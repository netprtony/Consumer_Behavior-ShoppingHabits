{% extends "layout.html" %}

{% block title %}
Sleep Data List
{% endblock %}

{% block content %}
<h2 class="mb-4">Sleep Data List</h2>
<div class="row p-5">
   <!-- Dropdown lọc theo BMI Category -->
   <form method="GET" action="{{ url_for('home') }}">
        <div class="form-group col-1">
            <label for="bmi-filter">BMI Category:</label>
            <select name="bmi_category" id="bmi-filter" class="form-control" onchange="this.form.submit()">
                <option value="">All</option>
                <option value="Normal">Normal</option>
                <option value="Normal Weight">Normal Weight</option>
                <option value="Overweight">Overweight</option>
                <option value="Obese">Obese</option>
            </select>
        </div>
    </form method="GET" action="{{ url_for('home') }}">
        <!-- Dropdown lọc theo Sleep Disorder -->
        <div class="form-group col-1">
            <label for="sleep-disorder-filter">Sleep Disorder:</label>
            <select name="sleep_disorder" id="sleep-disorder-filter" class="form-control" onchange="this.form.submit()">
                <option value="">All</option>
                <option value="Sleep Apnea">Sleep Apnea</option>
                <option value="Insomnia">Insomnia</option>
                <option value="None">None</option>
            </select>
        </div>
    </form>
</div>
<!-- Hiển thị bảng dữ liệu -->
<table class="table table-striped table-hover">
    <thead class="table-dark">
        <tr>
            <th><a href="{{ url_for('home', sort_by='Person ID', order='asc') }}">Person ID</a></th>
            <th><a href="{{ url_for('home', sort_by='Age', order='asc') }}">Age</a></th>
            <th><a href="{{ url_for('home', sort_by='Sleep Duration', order='asc') }}">Sleep Duration</a></th>
            <th><a href="{{ url_for('home', sort_by='Quality of Sleep', order='asc') }}">Quality of Sleep</a></th>
            <th><a href="{{ url_for('home', sort_by='Physical Activity Level', order='asc') }}">Physical Activity Level</a></th>
            <th><a href="{{ url_for('home', sort_by='Stress Level', order='asc') }}">Stress Level</a></th>
            <th>BMI Category</th>
            <th>Blood Pressure</th>
            <th>Heart Rate</th>
            <th>Daily Steps</th>
            <th>Sleep Disorder</th>
        </tr>
    </thead>
    <tbody>
        {% for data in sleep_data %}
        <tr>
            <td>{{ data['Person ID'] }}</td>
            <td>{{ data['Age'] }}</td>
            <td>{{ data['Sleep Duration'] }}</td>
            <td>{{ data['Quality of Sleep'] }}</td>
            <td>{{ data['Physical Activity Level'] }}</td>
            <td>{{ data['Stress Level'] }}</td>
            <td>{{ data['BMI Category'] }}</td>
            <td>{{ data['Blood Pressure'] }}</td>
            <td>{{ data['Heart Rate'] }}</td>
            <td>{{ data['Daily Steps'] }}</td>
            <td>{{ data['Sleep Disorder'] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>



{% endblock %}
